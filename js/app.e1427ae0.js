(function(e){function t(t){for(var s,i,o=t[0],c=t[1],l=t[2],p=0,d=[];p<o.length;p++)i=o[p],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&d.push(n[i][0]),n[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);m&&m(t);while(d.length)d.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],s=!0,o=1;o<a.length;o++){var c=a[o];0!==n[c]&&(s=!1)}s&&(r.splice(t--,1),e=i(i.s=a[0]))}return e}var s={},n={app:0},r=[];function i(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=s,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(a,s,function(t){return e[t]}.bind(null,s));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var m=c;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[a("div",{staticClass:"d-flex align-center"},[a("div",{staticClass:"app-title"},[a("span",[e._v("MIR")]),a("span",{staticClass:"mflip"},[e._v("R")]),a("span",{staticClass:"mflip"},[e._v("I")]),a("span",{staticClass:"mflip"},[e._v("M")]),e._v(" "),a("span",{staticClass:"mflip"},[e._v("R")]),a("span",{staticClass:"mflip"},[e._v("O")]),a("span",{staticClass:"mflip"},[e._v("R")]),a("span",[e._v("ROR")])])]),a("v-spacer")],1),a("v-main",[a("v-container",[a("v-row",[e._v(" 1. Copy image data into clipboard or press Print Screen "),a("br"),e._v(" 2. Press Ctrl+V (page/iframe must be focused): ")]),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"4"}},[a("div",{ref:"srcView",staticClass:"viewport"},[a("canvas",{ref:"srcImgCanvas",staticStyle:{border:"1px solid grey"},attrs:{id:"srcImgCanvas",width:"300",height:"300"}})]),a("div",{staticStyle:{"min-width":"300px"}},[a("v-slider",{attrs:{label:"Shift",min:e.srcImgMin,max:e.srcImgMax},on:{input:e.update},scopedSlots:e._u([{key:"append",fn:function(){return[a("v-text-field",{staticClass:"mt-0 pt-0",staticStyle:{width:"60px"},attrs:{"hide-details":"","single-line":"",type:"number"},on:{input:e.update},model:{value:e.srcImg.translate,callback:function(t){e.$set(e.srcImg,"translate",t)},expression:"srcImg.translate"}})]},proxy:!0}]),model:{value:e.srcImg.translate,callback:function(t){e.$set(e.srcImg,"translate",t)},expression:"srcImg.translate"}}),a("v-slider",{attrs:{label:"Rotation",min:"-180",max:"180"},on:{input:e.update},scopedSlots:e._u([{key:"append",fn:function(){return[a("v-text-field",{staticClass:"mt-0 pt-0",staticStyle:{width:"60px"},attrs:{"hide-details":"","single-line":"",type:"number"},on:{input:e.update},model:{value:e.srcImg.rotation,callback:function(t){e.$set(e.srcImg,"rotation",t)},expression:"srcImg.rotation"}})]},proxy:!0}]),model:{value:e.srcImg.rotation,callback:function(t){e.$set(e.srcImg,"rotation",t)},expression:"srcImg.rotation"}}),a("v-color-picker",{on:{input:e.update},model:{value:e.srcImg.bgColor,callback:function(t){e.$set(e.srcImg,"bgColor",t)},expression:"srcImg.bgColor"}})],1)]),a("v-col",{attrs:{cols:"12",sm:"8"}},[a("canvas",{ref:"destImgCanvas",staticStyle:{border:"1px solid grey"},attrs:{id:"destImgCanvas",width:"300",height:"300"}}),a("v-row",[a("v-col",[a("v-text-field",{attrs:{label:"Filename","persistent-hint":"",hint:e.saveFilename},model:{value:e.saveFilenameTemplate,callback:function(t){e.saveFilenameTemplate=t},expression:"saveFilenameTemplate"}})],1),a("v-col",[a("v-select",{attrs:{items:e.saveFileTypes,"item-text":"label","item-value":"value","return-object":""},model:{value:e.saveFileType,callback:function(t){e.saveFileType=t},expression:"saveFileType"}}),e.saveFileType.hasQuality?a("v-text-field",{attrs:{type:"number",label:"Quality",min:"1",max:"100"},model:{value:e.saveCompression,callback:function(t){e.saveCompression=t},expression:"saveCompression"}}):e._e()],1),a("v-col",[a("v-btn",{attrs:{icon:""},on:{click:e.doSave}},[a("v-icon",[e._v("mdi-content-save")])],1)],1)],1)],1)],1),a("v-row",[a("v-col")],1)],1)],1)],1)},r=[],i=a("2909"),o=(a("a1f0"),a("ac1f"),a("5319"),a("d3b7"),a("25f0"),a("b0c0"),a("3ca3"),a("ddb0"),a("2b3d"),a("df7c")),c={name:"App",computed:{srcImgCanvas:function(){return this.$refs.srcImgCanvas},srcImgCtx:function(){return this.srcImgCanvas.getContext("2d")},destImgCanvas:function(){return this.$refs.destImgCanvas},destImgCtx:function(){return this.destImgCanvas.getContext("2d")},srcImgMin:function(){return this.srcImg?this.srcImg.width/-2:-1},srcImgMax:function(){return this.srcImg?this.srcImg.width/2:1},saveFilename:function(){for(var e=this.saveFilenameTemplate,t=Object(i["a"])(e.matchAll(/{{(\w*)}}/g)),a=0;a<t.length;a++){var s=t[a];s[1]in this.filenameMacros&&(e=e.replace(s[0],this.filenameMacros[s[1]](e)))}return e+"."+this.saveFileType.ext}},data:function(){var e=this,t={saveUrl:"",saveFilenameTemplate:"{{fileName}}-{{timestamp}}",saveFileType:"image/png",saveCompression:75,isDragging:!1,srcImg:{origFileName:"",url:"",width:0,height:0,translate:0,rotation:0,bgColor:"white"},destImg:null,filenameMacros:{timestamp:function(){return Date.now().toString()},fileName:function(){return e.srcImg.origFileName}},saveFileTypes:[{label:"PNG",value:"image/png",ext:"png",hasQuality:!1},{label:"JPEG",value:"image/jpeg",ext:"jpg",hasQuality:!0}]};return t.saveFileType=t.saveFileTypes[0],t},watch:{},methods:{doSave:function(){this.saveUrl=this.destImgCanvas.toDataURL(this.saveFileType.value,this.saveCompression/100);var e=document.createElement("a");e.download=this.saveFilename,e.href="data:"+this.saveUrl,e.click()},createBitmap:function(e){var t=this;createImageBitmap(e).then((function(e){t.srcImg.bitmap=e,t.srcImg.width=e.width,t.srcImg.height=e.height,t.srcImg.rotation=0,t.srcImg.translate=0,t.update()})).catch((function(e){console.log(e)}))},loadUrl:function(e){var t=this,a=new Image;a.onload=function(){t.createBitmap(a)},a.src=e},handlePaste:function(e){var t=this;if(e.clipboardData){var a=e.clipboardData.items;if(!a)return;for(var s=0;s<a.length;s++){var n=a[s];if(-1!==n.type.indexOf("image")){var r=a[s].getAsFile();this.createBitmap(r),this.srcImg.origFileName=o.basename(r.name,o.extname(r.name)),e.preventDefault()}else-1!==n.type.indexOf("plain")&&n.getAsString((function(a){if(-1!==a.indexOf("http")){t.loadUrl(a);var s=new URL(a);t.srcImg.origFileName=o.basename(s.pathname,o.extname(s.pathname)),e.preventDefault()}}))}}},update:function(){if(this.srcImg.bitmap){this.srcImg.width=this.srcImg.bitmap.width-Math.abs(this.srcImg.translate),this.srcImg.height=this.srcImg.bitmap.height;var e=this.srcImgCanvas,t=this.srcImgCtx,a=this.srcImg.width,s=this.srcImg.height;e.width=a,e.height=s,t.fillStyle=this.srcImg.bgColor,t.fillRect(0,0,a,s),t.save(),t.translate(a/2,s/2),t.rotate(this.srcImg.rotation*Math.PI/180);var n=this.srcImg.translate<0?-this.srcImg.translate:0,r=a;t.drawImage(this.srcImg.bitmap,n,0,r,s,-a/2,-s/2,a,s),t.restore();var i=this.destImgCtx,o=this.destImgCanvas;o.width=2*this.srcImgCanvas.width,o.height=this.srcImgCanvas.height,i.drawImage(this.srcImgCanvas,0,0,a/2,s,0,0,a/2,s),i.drawImage(this.srcImgCanvas,a/2,0,a/2,s,1.5*a,0,a/2,s),i.save(),i.translate(a,0),i.scale(-1,1),i.drawImage(this.srcImgCanvas,0,0,a/2,s,0,0,a/2,s),i.drawImage(this.srcImgCanvas,a/2,0,a/2,s,-a/2,0,a/2,s),i.restore(),t.strokeStyle="green",t.lineWidth=5,t.beginPath(),t.setLineDash([10,10]),t.moveTo(a/2,0),t.lineTo(a/2,s),t.stroke()}}},mounted:function(){var e=this;document.addEventListener("paste",(function(t){e.handlePaste(t)}),!1),document.addEventListener("dragenter",(function(e){e.preventDefault(),e.stopPropagation()})),document.addEventListener("dragleave",(function(e){e.preventDefault(),e.stopPropagation()})),document.addEventListener("dragover",(function(e){e.preventDefault(),e.stopPropagation()})),document.addEventListener("drop",(function(e){console.log(e.dataTransfer.files),e.preventDefault(),e.stopPropagation()})),this.$refs.srcImgCanvas.addEventListener("mousedown",(function(){e.isDragging=!0})),this.$refs.srcImgCanvas.addEventListener("mouseup",(function(){e.isDragging=!1})),this.$refs.srcImgCanvas.addEventListener("mouseleave",(function(){e.isDragging=!1})),this.$refs.srcImgCanvas.addEventListener("mousemove",(function(t){e.isDragging&&(t.movementX>0?(e.srcImg.translate+=1,e.srcImg.translate>e.srcImg.width/2&&(e.srcImg.translate=e.srcImg.width/2),e.update()):t.movementX<0&&(e.srcImg.translate-=1,e.srcImg.translate<-e.srcImg.width/2&&(e.srcImg.translate=-e.srcImg.width/2),e.update()))})),this.srcImg.url="https://upload.wikimedia.org/wikipedia/commons/thumb/f/fc/Max_Hardcore_2015.jpg/800px-Max_Hardcore_2015.jpg",this.update()}},l=c,m=(a("5c0b"),a("2877")),p=a("6544"),d=a.n(p),g=a("7496"),u=a("40dc"),v=a("8336"),f=a("62ad"),h=a("03a4"),I=a("a523"),b=a("132d"),C=a("f6c4"),w=a("0fd9"),y=a("b974"),x=a("ba0d"),_=a("2fa4"),F=a("8654"),S=Object(m["a"])(l,n,r,!1,null,null,null),T=S.exports;d()(S,{VApp:g["a"],VAppBar:u["a"],VBtn:v["a"],VCol:f["a"],VColorPicker:h["a"],VContainer:I["a"],VIcon:b["a"],VMain:C["a"],VRow:w["a"],VSelect:y["a"],VSlider:x["a"],VSpacer:_["a"],VTextField:F["a"]});var k=a("f309");s["a"].use(k["a"]);var P=new k["a"]({});s["a"].config.productionTip=!1,new s["a"]({vuetify:P,render:function(e){return e(T)}}).$mount("#app")},"5c0b":function(e,t,a){"use strict";a("9c0c")},"9c0c":function(e,t,a){}});
//# sourceMappingURL=app.e1427ae0.js.map